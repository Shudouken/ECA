\documentclass[12pt,onecolumn%,twoside
]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage[english,ngerman]{babel}
\usepackage[pdfusetitle]{hyperref}
\usepackage{graphicx}
\usepackage{calc}
\usepackage{caption}
\usepackage{fancyhdr,multicol,multirow,bigdelim,paralist,graphicx,array,enumitem}
\usepackage{amsmath, mathtools}
\usepackage{float}
\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\renewcommand{\sectionmark}[1]{\markboth{#1}{}}
\addto\captionsngerman{\renewcommand{\figurename}{Figure}}
\addto\captionsngerman{\renewcommand{\contentsname}{Index}}
\KOMAoptions{parskip=half+,paper=a4,twocolumn=false,DIV=12}
\fancypagestyle{eca-style}{
\fancyhf{}
\fancyhead[L]{ECA}
\fancyhead[R]{\leftmark}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}}
\fancypagestyle{index-style}{
\fancyhf{}
\fancyhead[L]{ECA}
\fancyhead[R]{Index}
\fancyfoot[C]{\thepage}
\captionsetup{width=0.5\textwidth}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}}
\setdescription{itemsep=0pt}
\makeatletter
\newenvironment{minipagespace}{
\begin{minipage}
}{
\end{minipage}
\vspace{10pt}
}
\makeatother
\setcounter{tocdepth}{3}
\title{Enumerative Combinatoric Algorithms (716.035)}
\date{2016}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\newcommand{\img}[3]{
\begin{figure}[H]
	\centering
	\includegraphics[#2]{img/#1}
	\captionsetup{width=0.8\textwidth, justification=centering}
	\caption{#3}
\end{figure}
}

\newcommand{\fig}[2]{
\begin{figure}[H]
	\centering
	#1
	\captionsetup{width=0.8\textwidth, justification=centering}
	\caption{#2}
\end{figure}
}

\newcommand{\eq}[1]{
\begin{equation*}
\begin{aligned}
#1
\end{aligned}
\end{equation*}
}

\newcommand{\newsection}[1]{
\cleardoublepage
\section{#1}
}

\begin{document}

\begin{titlepage}
\maketitle
\newpage
\pagestyle{index-style}
\tableofcontents{}
\newpage
\end{titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{eca-style}

\newsection{Enumerating vs. Counting}

\subsection{Permutation of Letters}

{\bf Example:} How many words can we make out of the letters A B C using each letter once?

\begin{center}
\begin{inparaitem}
	\item ABC \qquad
	\item BAC \qquad
	\item CAB
\end{inparaitem}

\begin{inparaitem}
	\item ACB \qquad
	\item BCA \qquad
	\item CBA
\end{inparaitem}
\end{center}

When we list all objects as above we call it {\bf enumeration}, whereas {\bf counting} is only concerned with the total number of objects. If we consider the example above, how many words would be possible for A B C D?

It's best to find a formula, as using it is a very efficient way to count objects. For $n = 4$ letters we end up with $24$ permutations.

The formula for the amount of different words with $n$ letters is $n!$

\subsection{Points in Convex Position}

How many crossing-free spanning paths exist for $n$ points on convex position?

\img{crossing_free_spanning_path}
    {scale=1.5, trim=220 550 430 125}
    {An example illustrating one possibility of a spanning path for $n=9$ points}

For $n=1$ points the definition of the spanning path is unclear, in some cases it is considered as path with the size $1$ and in others with size $0$.

Let's look at some examples for $n > 1$ and try to determine a suitable formula. 

\img{crossing_free_spanning_path_enumeration}
    {scale=1, trim=270 340 200 125}
    {Enumeration of crossing free spanning paths up to $n=4$}

As we can see from this example, enumeration can become a tedious and error prone task very fast. Can you list all paths for $n=5$?

It is better to abstract the problem and find an inductive solution. When constructing the path we start with a point, and from it we only see two immediate choices. After one of those points is added, we have two choices again. This goes on for a while until $n-2$.

\eq{\underbrace{2 \cdot 2 \cdot 2 \cdots 2 \cdot 2}_{n-2 \text{ times}} = 2^{n-2}}

Now in order to construct all paths we need to start at all possible points, when we do that however a double count occurs.

\eq{n \cdot 2^{n-2} \Rightarrow \frac{n \cdot 2^{n-2}}{2} \Rightarrow n \cdot 2^{n-3} \text{ for } n \ge 2 }

We can use this formula to find the number of crossing-free spanning paths for $n=5$, which gives us $5 \cdot 2^2 = 20$ paths.

\img{crossing_free_spanning_path_n_5}
    {scale=1, trim=200 425 200 125}
    {Another method of enumeration, do not explicitly list similar objects}
    
\newsection{Polyominos}

\img{polyominos}
	{scale=1, trim=225 555 200 125}
	{A polyomino of size $n$ consists of $n$ unit squares connected via edges, aligned on a grid}
	
\img{polyominos_holes}
	{scale=1, trim=235 505 360 140}
	{A polyomino with a hole inside. Polyominos without holes are a special case and they are called animals.}	
	
How many n-polyominos do exist? We have to define how to count them, that means defining the parameters that decide when two polyominos are regarded as one and the same. Polyominos can be compared using three operations:
\begin{enumerate}
	\item {\bf Translation}: Move one polyomino on top of another, if they overlap, they are the same.
	\item {\bf Rotation}: Additionally rotate one polyomino, if there is one rotation that makes them overlap, they are the same.
	\item {\bf Reflection}: Move in the 3$^{rd}$ dimension, mirroring the polyomino.
\end{enumerate}

With these operations polyominos can be classified into these two groups: 
\begin{itemize}
	\item {\bf Fixed polyominos}: Only translation is allowed.
	\item {\bf Free polyominos}: Translation, rotation and reflection is allowed.	
\end{itemize}

\fig{
\begin{tabular}{| r | c | c |}
  \hline
  n & \# fixed & \# free \\
  \hline	
  1 & 1 & 1 \\
  2 & 2 & 1 \\
  3 & 6 & 2 \\
  4 & 19 & 5 \\
  5 & 63 & 12 \\
  \vdots & \vdots & \vdots 
\end{tabular}}{How many n-polyominos do exist?}

What is the formula for generating \underline{all} n-polyominos? Look at a step from $n \to n+1$, we can add one unit square to all surfaces, in the absolute worst case (a straight polyomino) that means $2n+2$ possibilities. How can we best deal with duplicates?

{\bf Approach 1}: Generate all new polyominos, then compare them all. For size $n+1$, $k$ polyominos are generated. $\Rightarrow O((_2^k) \cdot n) = O(k^2 \cdot n)$ 

Problem: $k >> n$

{\bf Approach 2}: Fingerprinting. Build a vector of a polyomino that is given by the coordinates of the squares.

\img{polyominos_vector}
	{scale=1, trim=275 505 360 125}
	{Polynomios and their respective vector fingerprint.}
	
Compute all eight polyonimos (4x rotation \& 2x reflection) and take the lexicographical minimum of the vector form!

Time for the fingerprint: $O(n)$

$\Rightarrow$ Compute fingerprints of all generated polyominos: $O(k \cdot n)$

$\Rightarrow$ Sort all fingerprints: $O(k \cdot log(k) \cdot n)$, duplicates are neighboured in the sorting and removing takes $O(k \cdot n)$
$\Rightarrow$ the total runtime is $O(k \cdot log(k) \cdot n)$

No formula is known for the number of fixed/free polyominos.

\eq{\lim\limits_{n \rightarrow \infty}\frac{\# (n+1) \text{ polyominos}}{\# n \text{ polyominos}} = \text{some constant } c}

The number of polyominos goes to $\Theta(c^n)$ and we know that $4.00253 \le c \le 4.65$.

\newsection{Pigeonhole-Principle}

Also known as Dirichlet principle, or in German $"$Schuhfach Prinzip$"$.

If you have $n+1$ elements (pigeons) which you put into $n$ boxes (pigeonholes), then there is a box with at least two elements (two pigeons).

{\bf General form}: If you have $k$ elements which you put into n boxes, then there is a box with at least $\ceil*{\frac{k}{n}}$ and one with at most $\floor*{\frac{k}{n}}$ elements.

\subsection{Example 1: Socks}

You have $n$ black socks and $m$ white socks in a drawer. How many socks do you have to pick out in order to get a matching pair?

If you abstract the problem using the pigeonhole principle it leads to the following setup. In total there are $n+m$ elements that are distributed upon two boxes, one for white socks and one for black socks. If we pick a sock out of the drawer and put it into one of the two boxes, we have to repeat the process at least three times to have a box with two elements in them (a matching pair of socks).

For $n=2$ boxes there have to be $n+1=3$ elements, such that one of the boxes contains at least $\ceil*{\frac{3}{2}} = 2$ elements.

\subsection{Example 2: Numbers}

Let $S$ be a subset of $\{1,2,\cdots, 2n\}$ of cardinality $n+1$. Prove or give a counter example for: $S$ contains two numbers $a$ and $b$ such that
\begin{itemize}
\item $a+b = 2n + 1$
\item $a-b = n$
\end{itemize}

To solve this problem we have to think of appropriate labels for the boxes.

\begin{center}
\begin{tabular}{l  l}
  $\{1,2n\}$ & \rdelim\}{5}{1mm}[ $n$ boxes]\\
  $\{2,2n-2\}$ & \\
  $\{3,2n-3\}$ & \\
  $\qquad\vdots$ & \\
  $\{n,n+1\}$ &  
\end{tabular}
\end{center}

There is a subset of cardinality $n+1$, so taking a number and putting it into the box with its name on the label, there has to be at least one box with two elements, thus adding up to $2n+1$.

\newpage

Similarly, solve the second problem by using different labels
\begin{center}
\begin{tabular}{l  l}
  $\{1,n+1\}$ & \rdelim\}{5}{1mm}[ $n$ boxes]\\
  $\{2,n+2\}$ & \\
  $\{3,n+3\}$ & \\
  $\qquad\vdots$ & \\
  $\{n,\underbrace{n+n}_{2n}\}$ &  
\end{tabular}
\end{center}

\subsection{Example 3: Hairs}

Prove: In Austria there exist at least eight people with the same number of hairs on their head.

Facts:
\begin{itemize}
\item On average people have $150.000$ hairs
\item It is save to assume that the range is $0-1.000.000$
\item Population of Austria: $8.699.730$ (Jan 1$^{st}$ 2016)
\end{itemize}

Take the total range of hairs as boxes, leading to $1.000.001$ boxes. At least $\ceil*{\frac{8699730}{1000001}} \sim \ceil*{8,7} = 9$ people have the same number of hairs on their head in Austria.

\subsection{Example 4: Party}

At a party $n \ge 2$ people meet. Some shake hands with others and some don't. Show or provide a counter example:
\begin{itemize}
\item There are at least two people at this party shaking the same number of hands.
\end{itemize}

There are two cases to consider for the boxes.

\begin{enumerate}
\item No one shakes zero hands.

\begin{tabular}{l  l}
  \multicolumn{2}{c}{\# handshakes} \\
  $1$ & \rdelim\}{5}{1mm}[ $n-1$ boxes]\\
  $2$ & \\
  $3$ & \\
  $\vdots$ & \\
  $n-1$ &  
\end{tabular}
\item At least one person shakes zero hands

\begin{tabular}{l  l}
  \multicolumn{2}{c}{\# handshakes} \\
  $0$ & \rdelim\}{5}{1mm}[ $n-1$ boxes]\\
  $1$ & \\
  $2$ & \\
  $\vdots$ & \\
  $n-2$ &  
\end{tabular}
\end{enumerate}

In both cases we have $n-1$ boxes for $n$ elements, meaning there always has to be a box with at least two elements.

\subsection{Example 5: Numers II}

Let $q$ be an odd number and let $S$ be the set $\{1,3,7,15,31, \cdots , 2^i-1\}$, i.e. $S$ contains the elements $a_i = 2^i-1$ for all $i \ge 1$.

{\bf Claim}: For each odd number $q$ there exists an $a_i$ which is a multiple of $q$ ($q$ divides $a_i$ without rest)

\eq{a_i = c \cdot q + r_i \qquad r_i \text{ has to be zero}}

Boxes for the rest:

\begin{tabular}{l  l}
  $\{r_i = 0\}$ & \rdelim\}{5}{1mm}[ $q$ boxes]\\
  $\{r_i = 1\}$ & \\
  $\{r_i = 2\}$ & \\
  $\qquad \vdots$ & \\
  $\{r_i = q-2\}$ &  
\end{tabular}

We can ignore the case with at least one element in box $\{r_i = 0\}$, since it means we are done already. If we ignore that box, there have to be two boxes with the same rest.

\eq{
	 		& a_m = c^* \cdot q + r_m \\
	- \quad & \underline{a_m = c^{**} \cdot q + r_m} \\
	 		& a_m - a_n = c^{***} \cdot q \qquad m > n \\
	 		& a_m - a_n = 2^m-1-(2^n-1) = \\
	 		& 2^m-2^n = 2^n\underbrace{(2^{m-n}-1)}_{a_{m-n}}
}

$a_{m-n}$ must be a multiple of $q$.

\newsection{Inclusion-Exclusion}

{\bf Example}: How many numbers of the set $\{1 \dots 45\}$ are coprime (do not have a common divisor) with 45?

We can use the following equation to find a solution.
\eq{X = 45 - |\{ \text{numbers which have at least one common divisor with 45} \}|}

For that we need to take a look at the prime coefficients of $45$ which consist of $3 \cdot 3 \cdot 5$ and count the members of the set divisible by them.

\eq{
	X_i &= | \text{numbers of } \{1 \dots 45\} \text{ divisible by i} | \\
	X_3 &= \frac{45}{3} = 15 \\
	X_5 &= \frac{45}{15} = 9 \\
	X_{3 \cdot 5} = X_{15} &= \frac{45}{15} = 3
}

In the last line, we made preparations to ensure that no double count occurs. 

\eq{
	X &= 45 - X_3 - X_5 + X_{3 \cdot 5} = 45 - 15 - 9 + 3 = 24
}

\end{document}
